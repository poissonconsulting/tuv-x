.. TUV-x Profiles

Profiles
========

A :f:type:`~tuvx_profile/profile_t` object defines an atmospheric profile along
a :f:type:`~tuvx_grid/grid_t`. 
There are many 
classes that can be used to configure TUV-x. The type of profile used
at runtime is configured from the configuration file. See 
:ref:`configuration-profiles` for more information.

All profiles are generated by the factory pattern inside the
:f:mod:`tuvx_profile_factory`. Each profile is 
created once and lives in the :f:type:`~tuvx_profile_warehouse/profile_warehouse_t` 
class. A copy of the profile is returned each time it is needed. Each class
that depends on a profile will take a 
:f:type:`~tuvx_profile_warehouse/profile_warehouse_t` object as an
argument and pull the type of profile that is desired out of the warehouse, 
like this: ::

  function run( profile_warehouse_ ) result( thing )
      use tuvx_profile,           only : profile_t
      use tuvx_profile_warehouse, only : profile_warehouse_t

      integer                                  :: thing
      type(profile_warehouse_t), intent(inout) :: profile_warehouse
      class(profile_t), pointer          :: profile => null( )

      profile => profile_warehouse%get_profile( "temperature", "K" )
      ...
    end function run

The base profile type
^^^^^^^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile

Profile Warehouse
^^^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_warehouse

Profile Factory
^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_factory

Air Profile
^^^^^^^^^^^
.. f:automodule:: tuvx_profile_air

Earth-Sun Distance
^^^^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_earth_sun_distance

Extraterrestrial Flux
^^^^^^^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_extraterrestrial_flux

Profile From Config
^^^^^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_from_config

Profile From CSV File
^^^^^^^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_from_csv_file

O2 Profile
^^^^^^^^^^
.. f:automodule:: tuvx_profile_o2

O3 Profile
^^^^^^^^^^
.. f:automodule:: tuvx_profile_o3

Utility functions for Profiles
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_utils

Solar Zenith Angle
^^^^^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_solar_zenith_angle

Surface Albedo
^^^^^^^^^^^^^^
.. f:automodule:: tuvx_profile_surface_albedo